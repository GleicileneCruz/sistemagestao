
<div th:replace="~{compartilhado/header}"></div>
        
                <div class="container-fluid">                    
                    
                    <div class="card shadow mb-4">
                        <div class="col-lg-5 d-none d-lg-block bg-register-image"></div>
                            <div class="col-lg-12">
                                <div class="p-5">
                                    <div class="text-center">
                                        <h1 class="h4 text-primary mb-4">ALTERAR PRODUTO</h1>
                                    </div>
                                    <form class="user" method="POST" th:action="@{'/products/' + ${products?.id} + '/atualizar'}">
                                        <div class="form-group row">
                                            <div class="col-sm-6 mb-3 mb-sm-0">                                                
                                                <input type="text" class="form-control" th:value="${products?.name}" required id="name" name="name"
                                                    placeholder="Nome">
                                            </div>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" th:value="${products?.price}" required id="price" name="price"
                                                    placeholder="R$ 0.00">
                                                <span id="price-error" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <input type="text" class="form-control" th:value="${products?.quantity}" required id="quantity" name="quantity"
                                                placeholder="Quantidade">
                                            <span id="quantity-error" class="text-danger"></span>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-lg-12 mb-3 mb-sm-0">
                                                <textarea class="form-control" 
                                                  id="description" name="description" placeholder="Descrição" 
                                                  th:inline="text">[[${products.description}]]</textarea>
                                            </div>                                            
                                        </div>
                                        <button type="submit" class="btn btn-primary">Alterar</button>
                                        <button type="button" class="btn btn-danger" onclick="window.history.back();">Cancelar</button>
                                    </form>
                                    <script>
                                        document.getElementById('quantity').addEventListener('input', function() {
                                            var value = this.value;
                                            if (!/^\d*$/.test(value)) {
                                                document.getElementById('quantity-error').innerText = 'A quantidade deve ser um número inteiro.';
                                            } else {
                                                document.getElementById('quantity-error').innerText = '';
                                            }
                                        });
                                    </script>
                                    <script>
                                        document.getElementById('price').addEventListener('input', function() {
                                            var value = this.value;
                                            if (!/^\d*\.?\d*$/.test(value)) {
                                                document.getElementById('price-error').innerText = 'Use o ponto como separador decimal. Ex. R$ 1.00';
                                            } else {
                                                document.getElementById('price-error').innerText = '';
                                            }
                                        });
                                    </script>

                                </div>
                            </div>
                     </div>

                </div>


<div th:replace="~{compartilhado/footer}"></div>
